webpackJsonp([5],{"/rEA":function(t,e,r){"use strict";(function(t){function n(t,e,r){this.name="ApiError",this.message=t||"Default Message",this.errorType=e||h.Default,this.innerError=r,this.stack=(new Error).stack}var a=r("rVsN"),o=r.n(a),i=r("3cXf"),s=r.n(i),l=r("IYkF"),u=r.n(l),f=r("2sCs"),c=r.n(f),p=r("DEjr"),d=r.n(p),m=r("bzuE"),h={Default:"default",Sysetem:"sysetem"};n.prototype=u()(Error.prototype),n.prototype.constructor=n;var g=c.a.create({baseURL:m.a,timeout:2e4,responseType:"json",withCredentials:!0});g.interceptors.request.use(function(t){return"post"===t.method||"put"===t.method||"patch"===t.method?(t.headers={"Content-Type":"application/json charset=utf-8"},t.data=s()(t.data)):"delete"!==t.method&&"get"!==t.method&&"head"!==t.method||(t.paramsSerializer=function(t){return d.a.stringify(t,{arrayFormat:"indices"})}),t},function(t){return t}),g.interceptors.response.use(function(e){if(-1===e.headers["content-type"].indexOf("json"))return e;var r=void 0;if("arraybuffer"===e.request.responseType&&"[object ArrayBuffer]"===e.data.toString()){var a=t.from(e.data).toString("utf8");console.log(a),r=JSON.parse(a)}else r=e.data;if(r&&r.url)top.location=r.url;else if(r&&200!==r.code)return console.log(r),o.a.reject(new n(r.message));return e},function(t){return o.a.reject(new n(t.message,h.Sysetem,t))}),e.a={install:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.httpClient=g,t.prototype.$httpClient=g}}}).call(e,r("7xR8").Buffer)},E1wO:function(t,e){},KrrZ:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("Uo1D"),a=(r.n(n),r("Ni1V")),o=r.n(a),i=r("E7jK"),s=r("uN2V"),l=(r.n(s),r("MlbN")),u=r("/rEA");i.default.config.productionTip=!1,i.default.use(o.a),i.default.use(u.a),new i.default({el:"#app",render:function(t){return t(l.a)}})},MlbN:function(t,e,r){"use strict";function n(t){r("E1wO")}var a=r("tW3w"),o=r("MoGO"),i=r("/Xao"),s=n,l=i(a.a,o.a,!1,s,null,null);e.a=l.exports},MoGO:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-container",{directives:[{name:"loading",rawName:"v-loading",value:t.isloading,expression:"isloading"}]},[r("el-header",{staticClass:"header",staticStyle:{background:"#EDF2FC"}},[r("el-breadcrumb",{staticClass:"breadcrumb",attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",[t._v("骑手工资计算")])],1)],1),t._v(" "),r("el-main",[r("el-form",{ref:"mainForm",staticClass:"small-space",attrs:{model:t.mainForm,rules:t.rolus,"label-position":"right","label-width":"110px",size:"small"}},[r("el-form-item",{attrs:{label:"城市",prop:"GroupID"}},[r("el-select",{attrs:{placeholder:"请选择",clearable:!0},model:{value:t.mainForm.GroupID,callback:function(e){t.$set(t.mainForm,"GroupID",e)},expression:"mainForm.GroupID"}},t._l(t.cityForm,function(t){return r("el-option",{key:t.GroupID,attrs:{label:t.Name,value:t.GroupID}})}))],1),t._v(" "),r("el-form-item",{attrs:{label:"计算月份",prop:"riderReferrerDate"}},[r("el-date-picker",{attrs:{placeholder:"选择月份",type:"month",format:"yyyy 年 MM 月","value-format":"yyyy-MM"},model:{value:t.mainForm.riderReferrerDate,callback:function(e){t.$set(t.mainForm,"riderReferrerDate",e)},expression:"mainForm.riderReferrerDate"}})],1),t._v(" "),r("el-form-item",{staticClass:"input_Day",attrs:{label:"工作天数",prop:"AttendanceDaysDesigned"}},[r("el-input",{attrs:{placeholder:"请输入工作天数"},model:{value:t.mainForm.AttendanceDaysDesigned,callback:function(e){t.$set(t.mainForm,"AttendanceDaysDesigned",t._n(e))},expression:"mainForm.AttendanceDaysDesigned"}})],1),t._v(" "),r("el-form-item",{staticClass:"uploadPathForm",attrs:{label:"选择评价单",prop:"EvaluateCsvPath"}},[r("el-col",[r("el-input",{ref:"EvaluateCsvPath",staticClass:"input-with-select",attrs:{"auto-complete":"off",placeholder:"请选择评价单",disabled:!0},model:{value:t.mainForm.EvaluateCsvPath,callback:function(e){t.$set(t.mainForm,"EvaluateCsvPath","string"==typeof e?e.trim():e)},expression:"mainForm.EvaluateCsvPath"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.handledEvaluateCsvPath},slot:"append"})],1)],1)],1),t._v(" "),r("el-form-item",{staticClass:"uploadPathForm",attrs:{label:"选择月账单",prop:"CityMonthBillCsvPath"}},[r("el-col",[r("el-input",{ref:"CityMonthBillCsvPath",staticClass:"input-with-select",attrs:{"auto-complete":"off",placeholder:"请选择月账单",disabled:!0},model:{value:t.mainForm.CityMonthBillCsvPath,callback:function(e){t.$set(t.mainForm,"CityMonthBillCsvPath","string"==typeof e?e.trim():e)},expression:"mainForm.CityMonthBillCsvPath"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.handledeliveryFeeBillCsvPath},slot:"append"})],1)],1)],1),t._v(" "),r("el-form-item",[r("el-button",{staticClass:"userdButton",attrs:{type:"primary"},on:{click:function(e){t.mainCreate("mainForm")}}},[t._v("工资计算")])],1)],1)],1)],1)},a=[],o={render:n,staticRenderFns:a};e.a=o},Uo1D:function(t,e){},VsUZ:function(t,e,r){"use strict";var n=r("E7jK");e.a={login:function(t){return n.default.httpClient.post("/admin/login",t)},getStaffInfoList:function(t){return n.default.httpClient.post("/Staff/GetStaffInfoList",t)},GetStaffBaseList:function(t){return n.default.httpClient.post("/Project/Staff/GetStaffBaseList",t)},GetGroupInfoBaseList:function(){return n.default.httpClient.post("/Project/Staff/HRGetGroupInfoBaseList")},GetStaffInfoList:function(t){return n.default.httpClient.post("/Project/Staff/Add",t)},GetEducationInfoBaseList:function(){return n.default.httpClient.post("/Project/Staff/GetEducationInfoBaseList")},SetEdit:function(t){return n.default.httpClient.post("/Project/Staff/Edit",t)},GetStaffInfo:function(t){return n.default.httpClient.post("/Project/Staff/GetStaffInfo")},GetDictionaryList:function(){return n.default.httpClient.post("/Project/Staff/GetDictionaryList")},getStaffInfoBaseList:function(t){return n.default.httpClient.post("/Project/Staff/GetStaffInfoBaseList",t)},getEntry:function(t){return n.default.httpClient.post("/Project/Staff/Entry",t)},resetEditBank:function(t){return n.default.httpClient.post("/Project/Staff/EditBank",t)},resetEditRecruitChannel:function(t){return n.default.httpClient.post("/Project/Staff/EditRecruitChannel",t)},resetEditInsurance:function(t){return n.default.httpClient.post("/Project/Staff/EditInsurance",t)},resetEditRiderReferrer:function(t){return n.default.httpClient.post("/Project/Staff/EditRiderReferrer",t)},getExitReasonInfoBaseList:function(){return n.default.httpClient.post("/Project/Staff/GetExitReasonInfoBaseList")},getExitUserReason:function(t){return n.default.httpClient.post("/Project/Staff/Exit",t)},getInBlackList:function(t){return n.default.httpClient.post("/Project/Staff/InBlackList",t)},getEditRiderEleID:function(t){return n.default.httpClient.post("/Project/Staff/EditRiderEleID",t)},getchangeRiderJobType:function(t){return n.default.httpClient.post("/Project/Staff/ChangeRiderJobType",t)},getStaffTurnover:function(){return n.default.httpClient.post("/Project/Staff/GetStaffTurnoverTypeInfoBaseList")},getTurnoverList:function(t){return n.default.httpClient.post("/Project/Staff/Turnover",t)},getRequestStationLeave:function(t){return n.default.httpClient.post("/Project/Flow/RequestStationLeave",t)},getStaffLeaveTypeInfoBaseList:function(t){return n.default.httpClient.post("/Project/Staff/GetStaffLeaveTypeInfoBaseList",t)},getStationLeaveList:function(t){return n.default.httpClient.post("/Project/Flow/GetStationLeaveList",t)},getAuditStationLeave:function(t){return n.default.httpClient.post("/Project/Flow/AuditStationLeave",t)},getGroupTree:function(){return n.default.httpClient.get("/Project/Group/GetGroupTree")},addGroup:function(t){return n.default.httpClient.post("/Project/Group/AddGroup",t)},editGroup:function(t){return n.default.httpClient.post("/Project/Group/EditGroup",t)},removeGroup:function(t){return n.default.httpClient.post("/Project/Group/RemoveGroup",t)},moveGroup:function(t){return n.default.httpClient.post("/Project/Group/MoveGroup",t)},getRoleBases:function(){return n.default.httpClient.get("/admin/getRoleBases")},getConfigStaffLeaveAuditFlow:function(t){return n.default.httpClient.post("/Project/Group/ConfigStaffLeaveAuditFlow",t)},importAttendance:function(t){return n.default.httpClient.post("/Project/Report/ImportAttendance",t,{responseType:"arraybuffer",timeout:6e4})},getCitys:function(){return n.default.httpClient.post("/Project/Group/GetCitys")},getRole:function(){return n.default.httpClient.post("/Project/Group/GetRoles")},getStaffStatus:function(){return n.default.httpClient.post("Project/Staff/GetStaffStatus")},calculate:function(t){return n.default.httpClient.post("/Project/Report/Calculate",t,{responseType:"arraybuffer",timeout:6e4})}}},bzuE:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n="/manager/api"},tW3w:function(t,e,r){"use strict";var n=r("3cXf"),a=r.n(n),o=r("hRKE"),i=r.n(o),s=r("VsUZ"),l=r("bND5");e.a={data:function(){return{isloading:!1,cityForm:[],mainForm:{CityMonthBillCsvPath:"",EvaluateCsvPath:"",GroupID:"",riderReferrerDate:"",Year:"",Month:"",AttendanceDaysDesigned:""},rolus:{GroupID:[{required:!0,message:"城市不能为空",trigge:"change,blur"}],AttendanceDaysDesigned:[{validator:function(t,e,r){return e?"number"!==(void 0===e?"undefined":i()(e))?void r(new Error("工作天数为数字值")):void(e<0?r(new Error("请保持工作天数在0-31天内")):e>31?r(new Error("请保持工作天数在0-31天内")):r()):(console.log(11111),void r(new Error("请输入工作天数")))},trigger:"blur"}],riderReferrerDate:[{required:!0,message:"计算月份不能为空",trigge:"change,blur"}],EvaluateCsvPath:[{required:!0,message:"评价单不能为空",trigge:"change,blur"},{pattern:/\.(?:csv)$/i,message:"请输入正确的文件(csv)",trigge:"change,blur"}],CityMonthBillCsvPath:[{required:!0,message:"月账单不能为空",trigge:"change,blur"},{pattern:/\.(?:csv)$/i,message:"请输入正确的文件(csv)",trigge:"change,blur"}]}}},mounted:function(){this.getCity()},methods:{getCity:function(){var t=this;this.isloading=!0,s.a.getCitys().then(function(e){t.isloading=!1,t.cityForm=e.data.list,console.log("getcity"+a()(e.data.list))},function(e){t.isloading=!1,t.showErrorMessage(e.message)})},handledeliveryFeeBillCsvPath:function(){this.popupCKFinder("CityMonthBillCsvPath")},handledEvaluateCsvPath:function(){this.popupCKFinder("EvaluateCsvPath")},popupCKFinder:function(t){var e=this;try{CKFinder.popup({chooseFiles:!0,width:800,height:600,onInit:function(r){r.on("files:choose",function(r){var n=r.data.files.first();e.mainForm[t]=n.getUrl()}),r.on("file:choose:resizedImage",function(r){e.mainForm[t]=r.data.resizedUrl})}})}catch(t){console.log(t.message)}},mainCreate:function(t){var e=this;this.$refs.mainForm.validate(function(t){if(t){e.isloading=!0;var r=e.mainForm.riderReferrerDate,n=r.toString().split("-");e.mainForm.Year=n[0],"0"===n[1][0]?e.mainForm.Month=n[1][1]:e.mainForm.Month=n[1];var a={CityMonthBillCsvPath:e.mainForm.CityMonthBillCsvPath,EvaluateCsvPath:e.mainForm.EvaluateCsvPath,GroupID:e.mainForm.GroupID,Year:e.mainForm.Year,Month:e.mainForm.Month,AttendanceDaysDesigned:e.mainForm.AttendanceDaysDesigned};s.a.calculate(a).then(function(t){e.isloading=!1,l(t.data,"filename.xlsx"),e.mainForm.GroupID=""},function(t){e.isloading=!1,e.showErrorMessage(t.message)})}else e.showErrorMessage("请填写必填项")})},showErrorMessage:function(t){this.$message({message:t,type:"error"})}}}},uN2V:function(t,e){}},["KrrZ"]);
//# sourceMappingURL=evaluationofwages.js.map