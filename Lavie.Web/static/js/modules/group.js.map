{"version":3,"sources":["webpack:///./src/utils/httpclient.js","webpack:///./node_modules/vue-awesome/components/Icon.vue","webpack:///./node_modules/vue-awesome/components/Icon.vue?cec4","webpack:///./src/modules/group/App.vue?4429","webpack:///src/modules/group/App.vue","webpack:///./src/utils/api.js","webpack:///./src/modules/group/group.js","webpack:///./src/utils/config.js","webpack:///node_modules/vue-awesome/components/Icon.vue","webpack:///./src/modules/group/App.vue"],"names":["ApiError","message","errorType","innerError","this","name","ErrorType","Default","stack","Error","Sysetem","prototype","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default","constructor","httpClient","__WEBPACK_IMPORTED_MODULE_3_axios___default","a","create","baseURL","__WEBPACK_IMPORTED_MODULE_5__config_js__","timeout","responseType","withCredentials","interceptors","request","use","config","method","headers","Content-Type","data","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default","paramsSerializer","params","__WEBPACK_IMPORTED_MODULE_4_qs___default","stringify","arrayFormat","error","response","indexOf","json","toString","text","Buffer","from","console","log","JSON","parse","url","top","location","code","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","reject","__webpack_exports__","install","Vue","arguments","length","undefined","$httpClient","__WEBPACK_IMPORTED_MODULE_1__vue_loader_lib_template_compiler_index_id_data_v_5d0258de_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_vue_loader_lib_selector_type_template_index_0_Icon_vue__","__webpack_require__","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__babel_loader_vue_loader_lib_selector_type_script_index_0_Icon_vue__","esExports","render","_vm","_h","$createElement","_c","_self","class","klass","style","attrs","version","role","label","aria-label","x","y","width","height","viewBox","box","_t","icon","paths","_l","path","i","_b","key","_e","_v","polygons","polygon","raw","domProps","innerHTML","_s","staticRenderFns","directives","rawName","value","expression","modifiers","fullscreen","lock","staticClass","separator-class","placeholder","size","clearable","model","callback","$$v","filterText","type","on","click","$event","handleAdd","ref","treeData","props","treeDefaultProps","empty-text","emptyText","node-key","filter-node-method","filterNode","render-content","renderContent","default-expand-all","visible","mainFormDialogVisible","close-on-click-modal","update:visible","nativeOn","submit","preventDefault","slot","editActive","mainForm","rules","mainFormRules","label-position","label-width","activeTabName","options","editParentTreeData","editParentTreeDefaultProps","change-on-select","$set","prop","auto-complete","trim","roleID","editPermissionTreeData","editPermissionTreeDefaultProps","show-checkbox","check-strictly","check-change","handlePermissionTreeCheckChange","handleMainFormSure","title","removeConfirmDialogVisible","center","handleRemoveSure","moveFormDialogVisible","moveActive","moveForm","moveFormRules","border","movingLocation","handleMoveFormSure","required","trigger","max","getTree","getRoleBases","getPermissionTree","val","_this","tree","_this2","list","_this3","_this4","id","parentIDPath","_this5","permissionID","isIncludeUser","isDisabled","sure","edit","add","remove","_this6","move","_this7","_this8","_this9","_this10","getCheckedKeys","resetFields","clearValidate","_this11","h","isSystem","stopPropagation","login","__WEBPACK_IMPORTED_MODULE_0_vue__","post","logout","getProfile","get","changeProfile","changePassword","getMenus","getServerInfo","getSiteConfig","editSiteConfig","getBulletin","editBulletin","getPermissions","getModuleConfig","extractModulePermissions","clearModulePermissions","getRoles","addRole","editRole","removeRole","moveRole","saveRoleName","getGroupTree","addGroup","editGroup","removeGroup","moveGroup","getUsers","addUser","editUser","removeUser","getUserStatus","getNotificationsForManager","addNotification","editNotification","removeNotification","getNotifications","readNotifications","deleteNotifications","getNewestNotification","getGroups","directlyCall","download","__WEBPACK_IMPORTED_MODULE_2_vue__","productionTip","__WEBPACK_IMPORTED_MODULE_1_element_ui_lib___default","component","__WEBPACK_IMPORTED_MODULE_7_vue_awesome_components_Icon__","__WEBPACK_IMPORTED_MODULE_8__utils_httpclient_js__","el","__WEBPACK_IMPORTED_MODULE_4__App_vue__","d","defaultPassword","defaultAccount","icons","String","warn","Boolean","scale","outerScale","spin","inverse","pulse","_icon","uniqueId","pointerId","match","normalizedScale","points","cursor","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1deda299_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__"],"mappings":"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","file":"static/js/modules/group.js","sourcesContent":["import axios from 'axios'\r\nimport qs from 'qs'\r\nimport { baseURL } from './config.js'\r\n\r\nconst SuccessCode = 200\r\n\r\n// 自定义错误\r\nconst ErrorType = {\r\n  'Default': 'default',\r\n  'Sysetem': 'sysetem'\r\n}\r\n\r\nfunction ApiError (message, errorType, innerError) {\r\n  this.name = 'ApiError'\r\n  this.message = message || 'Default Message'\r\n  this.errorType = errorType || ErrorType.Default\r\n  this.innerError = innerError\r\n  this.stack = (new Error()).stack\r\n}\r\nApiError.prototype = Object.create(Error.prototype)\r\nApiError.prototype.constructor = ApiError\r\n\r\n/*\r\nfunction transformResponse(data, headers) {\r\n  /* eslint no-param-reassign:0 * /\r\n  if (typeof data === 'string') {\r\n    try {\r\n      data = JSON.parse(data)\r\n    } catch (e) { /* Ignore * / }\r\n  }\r\n  return data\r\n}\r\nfunction transformData (data, headers) {\r\n  if (headers['content-type'].indexOf('json') >= 0) {\r\n    return JSON.parse(data, dateReviver)\r\n  } else {\r\n    // Do something meaningful here\r\n  }\r\n}\r\n*/\r\n\r\nconst httpClient = axios.create({\r\n  baseURL: baseURL,\r\n  timeout: 20000,\r\n  // 响应的数据格式 json / blob / document / arraybuffer / text / stream\r\n  responseType: 'json',\r\n  withCredentials: true\r\n})\r\n\r\n// POST传参序列化(添加请求拦截器)\r\nhttpClient.interceptors.request.use(\r\n  config => {\r\n    // 在发送请求之前做某件事\r\n    if (\r\n      config.method === 'post' ||\r\n      config.method === 'put' ||\r\n      config.method === 'patch'\r\n    ) {\r\n      // Content-Type 对于 POST、PUT 和 PATCH 才有意义\r\n      config.headers = {\r\n        // 'Content-Type': 'application/x-www-form-urlencoded charset=utf-8'\r\n        'Content-Type': 'application/json charset=utf-8'\r\n      }\r\n      // 序列化\r\n      config.data = JSON.stringify(config.data)\r\n    } else if (\r\n      config.method === 'delete' ||\r\n      config.method === 'get' ||\r\n      config.method === 'head'\r\n    ) {\r\n      // QueryString 序列化器\r\n      config.paramsSerializer = function (params) {\r\n        // arrayFormat: indices brackets repeat\r\n        return qs.stringify(params, {\r\n          arrayFormat: 'indices'\r\n        })\r\n      }\r\n    }\r\n\r\n    // 若是有做鉴权token , 就给头部带上token\r\n    /*\r\n    if (localStorage.token) {\r\n      config.headers.Authorization = localStorage.token\r\n    }\r\n    */\r\n    return config\r\n  },\r\n  error => {\r\n    return error\r\n  }\r\n)\r\n\r\n// 返回状态判断(添加响应拦截器)\r\nhttpClient.interceptors.response.use(\r\n  response => {\r\n    if (response.headers['content-type'].indexOf('json') === -1) {\r\n      // 返回的数据不是 json (或是 json 但服务器的 content-type 设置不准确)\r\n      return response\r\n    }\r\n    // 仅处理 json 数据\r\n    let json\r\n    if (response.request.responseType === 'arraybuffer' && response.data.toString() === '[object ArrayBuffer]') {\r\n      // 返回的数据是 arraybuffer，内容是 json\r\n      // 备注：可能内容不是 json，这里暂未处理\r\n      const text = Buffer.from(response.data).toString('utf8')\r\n      console.log(text)\r\n      json = JSON.parse(text)\r\n    } else {\r\n      // 备注：不是 arraybuffer 可能会是 blob 等，这里暂未处理\r\n      json = response.data\r\n    }\r\n\r\n    if (json && json.url) {\r\n      top.location = json.url\r\n    } else if (json && json.code !== SuccessCode) {\r\n      console.log(json)\r\n      return Promise.reject(new ApiError(json.message))\r\n    }\r\n    return response\r\n  },\r\n  error => {\r\n    // 返回 response 里的错误信息\r\n    return Promise.reject(new ApiError(error.message, ErrorType.Sysetem, error))\r\n  }\r\n)\r\n\r\n// 对 axios 的实例重新封装成一个 plugin ,方便 Vue.use(xxxx)\r\nexport default {\r\n  install: function (Vue, option = {}) {\r\n    // 1.通过 Vue.httpClient 调用\r\n    Vue.httpClient = httpClient\r\n    // 2.通过 this.$httpClient 调用\r\n    Vue.prototype.$httpClient = httpClient\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/httpclient.js","function injectStyle (ssrContext) {\n  require(\"!!../../extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5d0258de\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../vue-loader/lib/selector?type=styles&index=0!./Icon.vue\")\n}\nvar normalizeComponent = require(\"!../../vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../vue-loader/lib/selector?type=script&index=0!./Icon.vue\"\n/* template */\nimport __vue_template__ from \"!!../../vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5d0258de\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../vue-loader/lib/selector?type=template&index=0!./Icon.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-awesome/components/Icon.vue\n// module id = D4uH\n// module chunks = 3","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{class:_vm.klass,style:(_vm.style),attrs:{\"version\":\"1.1\",\"role\":_vm.label ? 'img' : 'presentation',\"aria-label\":_vm.label,\"x\":_vm.x,\"y\":_vm.y,\"width\":_vm.width,\"height\":_vm.height,\"viewBox\":_vm.box}},[_vm._t(\"default\",[(_vm.icon && _vm.icon.paths)?_vm._l((_vm.icon.paths),function(path,i){return _c('path',_vm._b({key:(\"path-\" + i)},'path',path,false))}):_vm._e(),_vm._v(\" \"),(_vm.icon && _vm.icon.polygons)?_vm._l((_vm.icon.polygons),function(polygon,i){return _c('polygon',_vm._b({key:(\"polygon-\" + i)},'polygon',polygon,false))}):_vm._e(),_vm._v(\"\\b\\n    \"),(_vm.icon && _vm.icon.raw)?[_c('g',{domProps:{\"innerHTML\":_vm._s(_vm.raw)}})]:_vm._e()])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5d0258de\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/vue-awesome/components/Icon.vue\n// module id = FMyu\n// module chunks = 3","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.isLoading),expression:\"isLoading\",modifiers:{\"fullscreen\":true,\"lock\":true}}]},[_c('el-header',{staticClass:\"header\"},[_c('el-breadcrumb',{staticClass:\"breadcrumb\",attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',[_vm._v(\"用户管理\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"用户组列表\")])],1)],1),_vm._v(\" \"),_c('el-main',{staticClass:\"main\"},[_c('el-row',[_c('el-input',{staticClass:\"filterText\",attrs:{\"placeholder\":\"输入关键字进行过滤\",\"size\":\"mini\",\"clearable\":\"\"},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":function($event){_vm.handleAdd()}}},[_vm._v(\"添加\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.treeData,\"props\":_vm.treeDefaultProps,\"empty-text\":_vm.emptyText,\"node-key\":\"id\",\"filter-node-method\":_vm.filterNode,\"render-content\":_vm.renderContent,\"default-expand-all\":true}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.mainFormDialogVisible,\"close-on-click-modal\":false,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.mainFormDialogVisible=$event}},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.editActive ? '编辑' : '添加')+\"\\n      \")]),_vm._v(\" \"),_c('el-form',{ref:\"mainForm\",attrs:{\"model\":_vm.mainForm,\"rules\":_vm.mainFormRules,\"label-position\":\"right\",\"label-width\":\"100px\",\"size\":\"mini\"}},[_c('el-tabs',{attrs:{\"type\":\"card\"},model:{value:(_vm.activeTabName),callback:function ($$v) {_vm.activeTabName=$$v},expression:\"activeTabName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基本信息\",\"name\":\"first\"}},[_c('el-form-item',{attrs:{\"label\":\"所属分组\"}},[_c('el-cascader',{attrs:{\"options\":_vm.editParentTreeData,\"props\":_vm.editParentTreeDefaultProps,\"clearable\":\"\",\"change-on-select\":\"\"},model:{value:(_vm.mainForm.parentIDPath),callback:function ($$v) {_vm.$set(_vm.mainForm, \"parentIDPath\", $$v)},expression:\"mainForm.parentIDPath\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户组名称\",\"prop\":\"name\"}},[_c('el-input',{ref:\"name\",attrs:{\"auto-complete\":\"off\",\"placeholder\":\"请输入用户组名称\"},model:{value:(_vm.mainForm.name),callback:function ($$v) {_vm.$set(_vm.mainForm, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"mainForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否包含用户\"}},[_c('el-switch',{model:{value:(_vm.mainForm.isIncludeUser),callback:function ($$v) {_vm.$set(_vm.mainForm, \"isIncludeUser\", $$v)},expression:\"mainForm.isIncludeUser\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否停用\"}},[_c('el-switch',{model:{value:(_vm.mainForm.isDisabled),callback:function ($$v) {_vm.$set(_vm.mainForm, \"isDisabled\", $$v)},expression:\"mainForm.isDisabled\"}})],1)],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"限制角色\",\"name\":\"second\"}},[_c('el-form-item',{attrs:{\"label\":\"限制角色\"}},[_c('el-checkbox-group',{model:{value:(_vm.mainForm.limitRoleIDs),callback:function ($$v) {_vm.$set(_vm.mainForm, \"limitRoleIDs\", $$v)},expression:\"mainForm.limitRoleIDs\"}},_vm._l((_vm.editRoleListData),function(role){return _c('el-checkbox',{key:role.roleID,attrs:{\"label\":role.roleID}},[_vm._v(_vm._s(role.name))])}))],1)],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"包含角色\",\"name\":\"third\"}},[_c('el-form-item',{attrs:{\"label\":\"包含角色\"}},[_c('el-checkbox-group',{model:{value:(_vm.mainForm.roleIDs),callback:function ($$v) {_vm.$set(_vm.mainForm, \"roleIDs\", $$v)},expression:\"mainForm.roleIDs\"}},_vm._l((_vm.editRoleListData),function(role){return _c('el-checkbox',{key:role.roleID,attrs:{\"label\":role.roleID}},[_vm._v(_vm._s(role.name))])}))],1)],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"包含权限\",\"name\":\"fourth\"}},[_c('el-form-item',{attrs:{\"label\":\"包含权限\"}},[_c('el-tree',{ref:\"editPermissionTree\",attrs:{\"data\":_vm.editPermissionTreeData,\"props\":_vm.editPermissionTreeDefaultProps,\"node-key\":\"id\",\"empty-text\":\"\",\"show-checkbox\":\"\",\"default-expand-all\":\"\",\"check-strictly\":\"\"},on:{\"check-change\":_vm.handlePermissionTreeCheckChange}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.handleMainFormSure(false)}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleMainFormSure(true)}}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.removeConfirmDialogVisible,\"width\":\"320px\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.removeConfirmDialogVisible=$event}}},[_c('span',[_vm._v(\"删除该用户组后，相关的数据也将被删除。\"),_c('br'),_vm._v(\"确定要删除吗？\")]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.handleRemoveSure(false)}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleRemoveSure(true)}}},[_vm._v(\"确 定\")])],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.moveFormDialogVisible,\"close-on-click-modal\":false,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.moveFormDialogVisible=$event}},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n        移动节点: \"+_vm._s(_vm.moveActive ? _vm.moveActive.name : null)+\"\\n      \")]),_vm._v(\" \"),_c('el-form',{ref:\"moveForm\",attrs:{\"model\":_vm.moveForm,\"rules\":_vm.moveFormRules,\"label-position\":\"right\",\"label-width\":\"100px\",\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"目标节点\",\"prop\":\"targetIDPath\"}},[_c('el-cascader',{attrs:{\"options\":_vm.editParentTreeData,\"props\":_vm.editParentTreeDefaultProps,\"clearable\":\"\",\"change-on-select\":\"\"},model:{value:(_vm.moveForm.targetIDPath),callback:function ($$v) {_vm.$set(_vm.moveForm, \"targetIDPath\", $$v)},expression:\"moveForm.targetIDPath\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"位置\"}},[[_c('el-radio',{attrs:{\"label\":0,\"border\":\"\"},model:{value:(_vm.moveForm.movingLocation),callback:function ($$v) {_vm.$set(_vm.moveForm, \"movingLocation\", $$v)},expression:\"moveForm.movingLocation\"}},[_vm._v(\"目标之下\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":1,\"border\":\"\"},model:{value:(_vm.moveForm.movingLocation),callback:function ($$v) {_vm.$set(_vm.moveForm, \"movingLocation\", $$v)},expression:\"moveForm.movingLocation\"}},[_vm._v(\"目标之上\")])]],2),_vm._v(\" \"),(_vm.moveForm.movingLocation === 0)?_c('el-form-item',{attrs:{\"label\":\"作为子节点\"}},[_c('el-switch',{model:{value:(_vm.moveForm.isChild),callback:function ($$v) {_vm.$set(_vm.moveForm, \"isChild\", $$v)},expression:\"moveForm.isChild\"}})],1):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.handleMoveFormSure(false)}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleMoveFormSure(true)}}},[_vm._v(\"确 定\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1deda299\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/modules/group/App.vue\n// module id = IiNO\n// module chunks = 3","<template>\r\n  <el-container v-loading.fullscreen.lock=\"isLoading\">\r\n    <el-header class=\"header\">\r\n      <el-breadcrumb\r\n        separator-class=\"el-icon-arrow-right\"\r\n        class=\"breadcrumb\">\r\n        <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n        <el-breadcrumb-item>用户组列表</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </el-header>\r\n    <el-main class=\"main\">\r\n      <el-row>\r\n        <el-input\r\n          placeholder=\"输入关键字进行过滤\"\r\n          size=\"mini\"\r\n          clearable\r\n          v-model=\"filterText\"\r\n          class=\"filterText\" />\r\n        <el-button\r\n          type=\"primary\"\r\n          size=\"mini\"\r\n          icon=\"el-icon-circle-plus-outline\"\r\n          @click=\"handleAdd()\">添加</el-button>\r\n      </el-row>\r\n      <el-row>\r\n        <el-tree\r\n          :data=\"treeData\"\r\n          :props=\"treeDefaultProps\"\r\n          :empty-text=\"emptyText\"\r\n          node-key=\"id\"\r\n          ref=\"tree\"\r\n          :filter-node-method=\"filterNode\"\r\n          :render-content=\"renderContent\"\r\n          :default-expand-all=\"true\" />\r\n      </el-row>\r\n\r\n      <el-dialog\r\n        :visible.sync=\"mainFormDialogVisible\"\r\n        @submit.native.prevent\r\n        :close-on-click-modal=\"false\"\r\n        width=\"600px\">\r\n        <span slot=\"title\">\r\n          {{ editActive ? '编辑' : '添加' }}\r\n        </span>\r\n        <el-form\r\n          ref=\"mainForm\"\r\n          :model=\"mainForm\"\r\n          :rules=\"mainFormRules\"\r\n          label-position=\"right\"\r\n          label-width=\"100px\"\r\n          size=\"mini\">\r\n          <el-tabs\r\n            v-model=\"activeTabName\"\r\n            type=\"card\">\r\n            <el-tab-pane\r\n              label=\"基本信息\"\r\n              name=\"first\">\r\n              <el-form-item label=\"所属分组\">\r\n                <el-cascader\r\n                  :options=\"editParentTreeData\"\r\n                  :props=\"editParentTreeDefaultProps\"\r\n                  clearable\r\n                  change-on-select\r\n                  v-model=\"mainForm.parentIDPath\" />\r\n              </el-form-item>\r\n              <el-form-item\r\n                label=\"用户组名称\"\r\n                prop=\"name\">\r\n                <el-input\r\n                  v-model.trim=\"mainForm.name\"\r\n                  auto-complete=\"off\"\r\n                  placeholder=\"请输入用户组名称\"\r\n                  ref=\"name\" />\r\n              </el-form-item>\r\n              <el-form-item label=\"是否包含用户\">\r\n                <el-switch v-model=\"mainForm.isIncludeUser\" />\r\n              </el-form-item>\r\n              <el-form-item label=\"是否停用\">\r\n                <el-switch v-model=\"mainForm.isDisabled\" />\r\n              </el-form-item>            \r\n            </el-tab-pane>\r\n            <el-tab-pane \r\n              label=\"限制角色\" \r\n              name=\"second\">\r\n              <el-form-item label=\"限制角色\">\r\n                <el-checkbox-group v-model=\"mainForm.limitRoleIDs\">\r\n                  <el-checkbox \r\n                    v-for=\"role in editRoleListData\"\r\n                    :label=\"role.roleID\" \r\n                    :key=\"role.roleID\">{{ role.name }}</el-checkbox>\r\n                </el-checkbox-group>\r\n              </el-form-item>\r\n            </el-tab-pane>\r\n            <el-tab-pane \r\n              label=\"包含角色\" \r\n              name=\"third\">\r\n              <el-form-item label=\"包含角色\">\r\n                <el-checkbox-group v-model=\"mainForm.roleIDs\">\r\n                  <el-checkbox\r\n                    v-for=\"role in editRoleListData\"\r\n                    :label=\"role.roleID\"\r\n                    :key=\"role.roleID\">{{ role.name }}</el-checkbox>\r\n                </el-checkbox-group>\r\n              </el-form-item>\r\n            </el-tab-pane>\r\n            <el-tab-pane \r\n              label=\"包含权限\" \r\n              name=\"fourth\">\r\n              <el-form-item label=\"包含权限\">\r\n                <el-tree\r\n                  :data=\"editPermissionTreeData\"\r\n                  :props=\"editPermissionTreeDefaultProps\"\r\n                  node-key=\"id\"\r\n                  ref=\"editPermissionTree\"\r\n                  empty-text=\"\"\r\n                  show-checkbox\r\n                  default-expand-all\r\n                  check-strictly\r\n                  @check-change=\"handlePermissionTreeCheckChange\" />\r\n              </el-form-item>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </el-form>\r\n        <div\r\n          slot=\"footer\"\r\n          class=\"dialog-footer\">\r\n          <el-button @click=\"handleMainFormSure(false)\">取 消</el-button>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"handleMainFormSure(true)\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n\r\n      <el-dialog\r\n        title=\"提示\"\r\n        :visible.sync=\"removeConfirmDialogVisible\"\r\n        width=\"320px\"\r\n        center>\r\n        <span>删除该用户组后，相关的数据也将被删除。<br>确定要删除吗？</span>\r\n        <div\r\n          slot=\"footer\"\r\n          class=\"dialog-footer\">\r\n          <el-button @click=\"handleRemoveSure(false)\">取 消</el-button>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"handleRemoveSure(true)\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n\r\n      <el-dialog\r\n        :visible.sync=\"moveFormDialogVisible\"\r\n        @submit.native.prevent\r\n        :close-on-click-modal=\"false\"\r\n        width=\"600px\">\r\n        <span slot=\"title\">\r\n          移动节点: {{ moveActive ? moveActive.name : null }}\r\n        </span>\r\n        <el-form\r\n          ref=\"moveForm\"\r\n          :model=\"moveForm\"\r\n          :rules=\"moveFormRules\"\r\n          label-position=\"right\"\r\n          label-width=\"100px\"\r\n          size=\"mini\">\r\n          <el-form-item\r\n            label=\"目标节点\"\r\n            prop=\"targetIDPath\">\r\n            <el-cascader\r\n              :options=\"editParentTreeData\"\r\n              :props=\"editParentTreeDefaultProps\"\r\n              clearable\r\n              change-on-select\r\n              v-model=\"moveForm.targetIDPath\" />\r\n          </el-form-item>\r\n          <el-form-item label=\"位置\">\r\n            <template>\r\n              <el-radio\r\n                v-model=\"moveForm.movingLocation\"\r\n                :label=\"0\"\r\n                border>目标之下</el-radio>\r\n              <el-radio\r\n                v-model=\"moveForm.movingLocation\"\r\n                :label=\"1\"\r\n                border>目标之上</el-radio>\r\n            </template>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"作为子节点\"\r\n            v-if=\"moveForm.movingLocation === 0\">\r\n            <el-switch v-model=\"moveForm.isChild\" />\r\n          </el-form-item>\r\n        </el-form>\r\n        <div\r\n          slot=\"footer\"\r\n          class=\"dialog-footer\">\r\n          <el-button @click=\"handleMoveFormSure(false)\">取 消</el-button>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"handleMoveFormSure(true)\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/utils/api'\r\nimport _ from 'lodash'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      // 主要数据\r\n      isLoading: false,\r\n      activeTabName: 'first',\r\n      treeData: null,\r\n      treeDefaultProps: {\r\n        children: 'children',\r\n        label: 'name',\r\n        value: 'id'\r\n      },\r\n      filterText: null,\r\n\r\n      // 删除\r\n      removeActive: null,                 // 暂存删除项\r\n      removeConfirmDialogVisible: false,  // 删除确认对话框是否可见\r\n      // 移动\r\n      moveActive: null,                   // 暂存移动项\r\n      moveFormDialogVisible: false,       // 移动对话框是否可见\r\n\r\n      // 添加/编辑\r\n      editActive: null,                   // 暂存编辑项，也可用来判断是否添加还是编辑\r\n      mainFormDialogVisible: false,       // 添加/编辑对话框是否可见\r\n      mainForm: {\r\n        groupID: null,                    // String\r\n        name: null,                       // String\r\n        roleIDs: [],                      // Array 不能设置为 null\r\n        permissionIDs: null,              // Array\r\n        limitRoleIDs: [],                 // Array 不能设置为 null\r\n        parentIDPath: [],                 // Array 不能设置为 null 如果 parentIDPath 无值则作为顶级节点,否则作为子节点。给 cascader 组件使用。\r\n        parentID: null,                   // String\r\n        isIncludeUser: null,              // Bool 是否包含用户\r\n        isDisabled: null                  // Bool 是否停用\r\n      },\r\n      moveForm: {\r\n        sourceID: null,\r\n        targetIDPath: null,               // Array 必须选择。给 cascader 组件使用。\r\n        targetID: null,\r\n        isChild: false,\r\n        movingLocation: 0                 // 0: Under, 1: Above 。 作为子节点，总是 Under；作为兄弟节点则可使用两值任一。\r\n      },\r\n      mainFormRules: {\r\n        name: [\r\n          { required: true, message: '请输入用户组名称', trigger: 'blur' },\r\n          { max: 50, message: '最多支持50个字符', trigger: 'blur' }\r\n        ]\r\n      },\r\n      moveFormRules: {\r\n        targetIDPath: [\r\n          { required: true, type: 'array', message: '请选择目标节点', trigger: 'change' }\r\n        ]\r\n      },\r\n      editPermissionTreeData: null,       // 用于编辑对话框内显示的权限树\r\n      editPermissionTreeDefaultProps: {\r\n        children: 'children',\r\n        label: 'name'\r\n      },\r\n      editRoleListData: null,             // 用于编辑对话框内显示的角色列表\r\n      editParentTreeData: null,           // 用于编辑对话框内显示的父节点\r\n      editParentTreeDefaultProps: {\r\n        children: 'children',\r\n        value: 'id',\r\n        label: 'name'\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getTree()\r\n    this.getRoleBases()\r\n    this.getPermissionTree()\r\n  },\r\n  computed: {\r\n    emptyText: function () {\r\n      return this.isLoading ? '加载中...' : '暂无数据'\r\n    }\r\n  },\r\n  watch: {\r\n    filterText (val) {\r\n      this.$refs.tree.filter(val)\r\n    }\r\n  },\r\n  methods: {\r\n    getTree () {\r\n      this.isLoading = true\r\n      api.getGroupTree().then(response => {\r\n        this.isLoading = false\r\n        this.treeData = response.data.tree\r\n      }, error => {\r\n        this.isLoading = false\r\n        this.showErrorMessage(error.message)\r\n      })\r\n    },\r\n    filterNode (value, data) {\r\n      if (!value) {\r\n        return true\r\n      }\r\n      return data.name.indexOf(value) !== -1\r\n    },\r\n    getRoleBases () {\r\n      api.getRoleBases().then(response => {\r\n        this.editRoleListData = response.data.list\r\n      }, error => {\r\n        this.showErrorMessage(error.message)\r\n      })\r\n    },\r\n    getPermissionTree () {\r\n      api.getPermissionTree().then(response => {\r\n        this.editPermissionTreeData = response.data.tree\r\n      }, error => {\r\n        this.showErrorMessage(error.message)\r\n      })\r\n    },\r\n    handleAdd (node, data) {\r\n      console.log('handleAdd', node, data)\r\n      if (!this.validateBaseData()) {\r\n        return\r\n      }\r\n      let parentIDPath = []\r\n      if (data) {\r\n        parentIDPath = data.parentIDPath ? data.parentIDPath : []\r\n        parentIDPath.push(data.id)\r\n      }\r\n      this.activeTabName = 'first'\r\n      this.editActive = null\r\n      this.generateParentTree(null)\r\n      this.mainFormDialogVisible = true\r\n      this.mainForm.groupID = null\r\n      this.mainForm.name = null\r\n      this.mainForm.parentIDPath = parentIDPath\r\n      this.mainForm.parentID = data ? data.id : null    // parentID 在提交数据前重新计算\r\n      this.mainForm.roleIDs = []            // 不能设置为 null\r\n      this.mainForm.permissionIDs = null\r\n      this.mainForm.limitRoleIDs = []       // 不能设置为 null\r\n      this.mainForm.isIncludeUser = true    // 默认 true\r\n      this.mainForm.isDisabled = false      // 默认 false\r\n      this.$nextTick(() => {\r\n        this.$refs.editPermissionTree.setCheckedKeys([], true)\r\n        this.clearValidate('mainForm')\r\n      })\r\n    },\r\n    handleEdit (node, data) {\r\n      console.log('handleEdit', node, data)\r\n      if (!this.validateBaseData() || !data) {\r\n        return\r\n      }\r\n      this.activeTabName = 'first'\r\n      this.editActive = data\r\n      this.generateParentTree(data)\r\n      this.mainFormDialogVisible = true\r\n      this.mainForm.groupID = data.id\r\n      this.mainForm.name = data.name\r\n      this.mainForm.parentIDPath = data.parentIDPath\r\n      this.mainForm.parentID = data.parentID            // parentID 在提交数据前重新计算\r\n      this.mainForm.roleIDs = data.roles.map(m => m.roleID)\r\n      this.mainForm.permissionIDs = data.permissions.map(m => m.permissionID)\r\n      this.mainForm.limitRoleIDs = data.limitRoles.map(m => m.roleID)\r\n      this.mainForm.isIncludeUser = data.isIncludeUser\r\n      this.mainForm.isDisabled = data.isDisabled\r\n      this.$nextTick(() => {\r\n        this.$refs.editPermissionTree.setCheckedKeys(this.mainForm.permissionIDs, true)\r\n        this.clearValidate('mainForm')\r\n      })\r\n    },\r\n    handleMainFormSure (sure) {\r\n      console.log('handleMainFormSure', sure)\r\n      if (sure) {\r\n        // 提交数据\r\n        if (this.editActive) {\r\n          this.edit()\r\n        } else {\r\n          this.add()\r\n        }\r\n      } else {\r\n        this.mainFormDialogVisible = false\r\n        // this.editActive = null // 注：添加状态 endActive 本就为 null\r\n      }\r\n    },\r\n    handleRemove (node, data) {\r\n      this.removeActive = data\r\n      this.removeConfirmDialogVisible = true\r\n    },\r\n    handleRemoveSure (sure) {\r\n      this.removeConfirmDialogVisible = false\r\n      if (sure) {\r\n        this.remove()\r\n      } else {\r\n        this.removeActive = null\r\n      }\r\n    },\r\n    handleMove (node, data) {\r\n      console.log('handleMove', node, data)\r\n      if (!this.validateBaseData() || !data) {\r\n        return\r\n      }\r\n      this.moveActive = data\r\n      this.generateParentTree(data)\r\n      this.moveFormDialogVisible = true\r\n      this.moveForm.sourceID = data.id\r\n      this.moveForm.targetIDPath = []\r\n      this.moveForm.movingLocation = 0\r\n      this.moveForm.isChild = false\r\n      this.$nextTick(() => {\r\n        this.clearValidate('moveForm')\r\n      })\r\n    },\r\n    handleMoveFormSure (sure) {\r\n      console.log('handleMoveFormSure', sure)\r\n      if (sure) {\r\n        this.move()\r\n      } else {\r\n        this.moveFormDialogVisible = false\r\n        this.moveActive = null\r\n      }\r\n    },\r\n    add () {\r\n      this.$refs.mainForm.validate(valid => {\r\n        if (!valid) return false // 客户端校验未通过\r\n        this.isLoading = true\r\n        this.mainForm.parentID = this.mainForm.parentIDPath && this.mainForm.parentIDPath.length\r\n          ? this.mainForm.parentIDPath[this.mainForm.parentIDPath.length - 1]\r\n          : null\r\n        const params = this.mainForm\r\n        api.addGroup(params).then(response => {\r\n          this.isLoading = false\r\n          this.mainFormDialogVisible = false\r\n          this.getTree()\r\n        }, error => {\r\n          this.isLoading = false\r\n          this.showErrorMessage(error.message)\r\n        })\r\n      })\r\n    },\r\n    edit () {\r\n      if (!this.editActive) {\r\n        this.showErrorMessage('异常：无编辑目标')\r\n        return\r\n      }\r\n      this.$refs.mainForm.validate(valid => {\r\n        if (!valid) return false // 客户端校验未通过\r\n        this.isLoading = true\r\n        this.mainForm.parentID = this.mainForm.parentIDPath && this.mainForm.parentIDPath.length\r\n          ? this.mainForm.parentIDPath[this.mainForm.parentIDPath.length - 1]\r\n          : null\r\n        const params = this.mainForm\r\n        api.editGroup(params).then(response => {\r\n          this.isLoading = false\r\n          this.editActive = null\r\n          this.mainFormDialogVisible = false\r\n          this.getTree()\r\n        }, error => {\r\n          this.isLoading = false\r\n          this.showErrorMessage(error.message)\r\n        })\r\n      })\r\n    },\r\n    remove () {\r\n      if (!this.removeActive) return\r\n      const params = {\r\n        groupID: this.removeActive.id\r\n      }\r\n      this.isLoading = true\r\n      api.removeGroup(params).then(response => {\r\n        this.isLoading = false\r\n        this.removeActive = null\r\n        this.getTree()\r\n      }, error => {\r\n        this.isLoading = false\r\n        this.showErrorMessage(error.message)\r\n      })\r\n    },\r\n    move () {\r\n      if (!this.moveActive) return\r\n      this.$refs.moveForm.validate(valid => {\r\n        if (!valid) return false // 客户端校验未通过\r\n        const params = {\r\n          sourceID: this.moveActive.id,\r\n          targetID: this.moveForm.targetIDPath[this.moveForm.targetIDPath.length - 1],\r\n          isChild: this.moveForm.movingLocation === 0 ? this.moveForm.isChild : null,\r\n          movingLocation: this.moveForm.movingLocation\r\n        }\r\n        console.log(this.moveForm)\r\n        this.isLoading = true\r\n        api.moveGroup(params).then(response => {\r\n          this.isLoading = false\r\n          this.moveFormDialogVisible = false\r\n          this.moveActive = null\r\n          this.getTree()\r\n        }, error => {\r\n          this.isLoading = false\r\n          this.showErrorMessage(error.message)\r\n        })\r\n      })\r\n    },\r\n    validateBaseData () {\r\n      if (!this.editRoleListData) {\r\n        this.showErrorMessage('基础数据缺失：角色列表')\r\n        return false\r\n      }\r\n      if (!this.editPermissionTreeData) {\r\n        this.showErrorMessage('基础数据缺失：权限列表')\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    handlePermissionTreeCheckChange (data, checked, indeterminate) {\r\n      // console.log(data, checked, indeterminate)\r\n      this.mainForm.permissionIDs = this.$refs.editPermissionTree.getCheckedKeys()\r\n      // console.log(this.mainForm.permissionIDs)\r\n    },\r\n    generateParentTree (data) {\r\n      // 在添加或编辑用户组时，需要将系统用户组排除\r\n      if (!this.treeData) {\r\n        // this.treeData 实际上一定有值的\r\n        this.editParentTreeData = []\r\n        return\r\n      }\r\n      if (!data) {\r\n        // 添加时，过滤系统用户组。系统用户组只在第一级\r\n        this.editParentTreeData = this.treeData.filter((element, index, array) => { return !element.isSystem })\r\n      } else {\r\n        this.editParentTreeData = _.cloneDeep(this.treeData)\r\n        // 编辑或移动时，过滤系统用户组和自身树(需递归)。系统用户组只在第一级\r\n        this.editParentTreeData = this.editParentTreeData.filter((element, index, array) => { return !element.isSystem })\r\n        this.filterTree(this.editParentTreeData, data)\r\n      }\r\n    },\r\n    filterTree (tree, data) {\r\n      for (let i = 0; i < tree.length; i++) {\r\n        const item = tree[i]\r\n        // tree 通过 clone 而来，不能直接比较对象\r\n        if (item.id === data.id) {\r\n          // 在第一级就找到\r\n          tree.splice(i, 1)\r\n          break\r\n        } else if (item.children) {\r\n          this.filterTree(item.children, data)\r\n        }\r\n      }\r\n    },\r\n    resetForm (formName) {\r\n      this.$refs[formName].resetFields()\r\n    },\r\n    clearValidate (formName) {\r\n      this.$refs[formName].clearValidate()\r\n    },\r\n    showErrorMessage (message) {\r\n      this.$message({\r\n        message: message,\r\n        type: 'error'\r\n      })\r\n    },\r\n    renderContent (h, { node, data, store }) {\r\n      return (\r\n        <span style=\"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 10px;\">\r\n          <span>\r\n            <span>{ node.label } <icon name=\"user-times\" v-show={ !data.isIncludeUser }></icon></span>\r\n          </span>\r\n          <span>\r\n            <span style=\"font-size: 12px;\"> { data.limitRoles ? data.limitRoles.map(m => m.name).join(' ') : '' } </span>\r\n          </span>\r\n          <span v-show={ !data.isSystem }>\r\n            <span style=\"font-size: 12px;\" v-show={ data.isDisabled }>[停用] </span>\r\n            <el-button style=\"font-size: 12px;\" type=\"text\" icon=\"el-icon-edit-outline\" onClick={ (e) => {\r\n              e.stopPropagation()\r\n              e.preventDefault()\r\n              this.handleEdit(node, data)\r\n            }}>编辑</el-button>\r\n            <el-button style=\"font-size: 12px;\" type=\"text\" icon=\"el-icon-circle-plus-outline\" onClick={ (e) => {\r\n              e.stopPropagation()\r\n              e.preventDefault()\r\n              this.handleAdd(node, data)\r\n            }}>添加</el-button>\r\n            <el-button style=\"font-size: 12px;\" type=\"text\" icon=\"el-icon-rank\" onClick={ (e) => {\r\n              e.stopPropagation()\r\n              e.preventDefault()\r\n              this.handleMove(node, data)\r\n            }}>移动</el-button>\r\n            <el-button style=\"font-size: 12px;\" type=\"text\" icon=\"el-icon-remove-outline\" onClick={ (e) => {\r\n              e.stopPropagation()\r\n              e.preventDefault()\r\n              this.handleRemove(node, data)\r\n            }}>删除</el-button>\r\n          </span>\r\n        </span>)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.filterText {\r\n  width: 200px;\r\n  margin-right: 12px;\r\n}\r\n.el-row {\r\n  margin-bottom: 20px;\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n// 角色\r\n.el-checkbox {\r\n  display: block;\r\n  margin: 0;\r\n}\r\n// 用户组\r\n.el-cascader {\r\n  width: 100%;\r\n}\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/modules/group/App.vue","import Vue from 'vue'\n\nexport default {\n  login (params) {\n    return Vue.httpClient.post('/admin/login', params)\n  },\n  logout () {\n    return Vue.httpClient.post('/admin/logout')\n  },\n  getProfile () {\n    return Vue.httpClient.get('/admin/getProfile')\n  },\n  changeProfile (params) {\n    return Vue.httpClient.post('/admin/changeProfile', params)\n  },\n  changePassword (params) {\n    return Vue.httpClient.post('/admin/changePassword', params)\n  },\n  getMenus () {\n    return Vue.httpClient.get('/admin/getMenus')\n  },\n  // 系统管理\n  getServerInfo () {\n    return Vue.httpClient.get('/admin/getServerinfo')\n  },\n  getSiteConfig () {\n    return Vue.httpClient.get('/admin/getSiteconfig')\n  },\n  editSiteConfig (params) {\n    return Vue.httpClient.post('/admin/editSiteconfig', params)\n  },\n  getBulletin () {\n    return Vue.httpClient.get('/admin/getBulletin')\n  },\n  editBulletin (params) {\n    return Vue.httpClient.post('/admin/editBulletin', params)\n  },\n  getPermissions () {\n    return Vue.httpClient.get('/admin/getPermissions')\n  },\n  getModuleConfig () {\n    return Vue.httpClient.get('/admin/getModuleConfig')\n  },\n  extractModulePermissions () {\n    return Vue.httpClient.get('/admin/extractModulePermissions')\n  },\n  clearModulePermissions () {\n    return Vue.httpClient.get('/admin/clearModulePermissions')\n  },\n  // 角色\n  getRoles () {\n    return Vue.httpClient.get('/admin/getRoles')\n  },\n  addRole (params) {\n    return Vue.httpClient.post('/admin/addRole', params)\n  },\n  editRole (params) {\n    return Vue.httpClient.post('/admin/editRole', params)\n  },\n  removeRole (params) {\n    return Vue.httpClient.post('/admin/removeRole', params)\n  },\n  moveRole (params) {\n    return Vue.httpClient.post('/admin/moveRole', params)\n  },\n  saveRoleName (params) {\n    return Vue.httpClient.post('/admin/saveRoleName', params)\n  },\n  // 用户组\n  getGroupTree () {\n    return Vue.httpClient.get('/admin/getGroupTree')\n  },\n  addGroup (params) {\n    return Vue.httpClient.post('/admin/addGroup', params)\n  },\n  editGroup (params) {\n    return Vue.httpClient.post('/admin/editGroup', params)\n  },\n  removeGroup (params) {\n    return Vue.httpClient.post('/admin/removeGroup', params)\n  },\n  moveGroup (params) {\n    return Vue.httpClient.post('/admin/moveGroup', params)\n  },\n  // 用户\n  getUsers (params) {\n    // return Vue.httpClient.get('/admin/getUsers', { params: params })\n    return Vue.httpClient.post('/admin/getUsers', params)\n  },\n  addUser (params) {\n    return Vue.httpClient.post('/admin/addUser', params)\n  },\n  editUser (params) {\n    return Vue.httpClient.post('/admin/editUser', params)\n  },\n  removeUser (params) {\n    return Vue.httpClient.post('/admin/removeUser', params)\n  },\n  getUserStatus () {\n    return Vue.httpClient.get('/admin/getUserStatus')\n  },\n  // 通知\n  getNotificationsForManager (params) {\n    return Vue.httpClient.post('/admin/getNotificationsForManager', params)\n  },\n  addNotification (params) {\n    return Vue.httpClient.post('/admin/addNotification', params)\n  },\n  editNotification (params) {\n    return Vue.httpClient.post('/admin/editNotification', params)\n  },\n  removeNotification (params) {\n    return Vue.httpClient.post('/admin/removeNotification', params)\n  },\n  getNotifications (params) {\n    return Vue.httpClient.post('/admin/getNotifications', params)\n  },\n  readNotifications (params) {\n    return Vue.httpClient.post('/admin/readNotifications', params)\n  },\n  deleteNotifications (params) {\n    return Vue.httpClient.post('/admin/deleteNotifications', params)\n  },\n  getNewestNotification (params) {\n    return Vue.httpClient.post('/admin/getNewestNotification', params)\n  },\n  // 暂未使用\n  getGroups () {\n    return Vue.httpClient.get('/admin/getGroups')\n  },\n  // 基础数据\n  getRoleBases () {\n    return Vue.httpClient.get('/admin/getRoleBases')\n  },\n  getPermissionTree () {\n    return Vue.httpClient.get('/admin/getPermissionTree')\n  },\n  // 直接调用\n  directlyCall (url) {\n    return Vue.httpClient.get(url)\n  },\n  // 下载文件\n  download (url, params) {\n    return Vue.httpClient.post(url, params, {\n      responseType: 'arraybuffer'\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/api.js","import Vue from 'vue'\r\nimport ElementUI from 'element-ui'\r\n// import { Form, FormItem, Button } from 'element-ui'\r\nimport 'element-ui/lib/theme-chalk/index.css'\r\nimport '../../styles/inner.scss'\r\nimport App from './App.vue'\r\nimport 'vue-awesome/icons/users'\r\nimport 'vue-awesome/icons/user-times'\r\n// import 'vue-awesome/icons'\r\nimport Icon from 'vue-awesome/components/Icon'\r\nimport HttpClient from '@/utils/httpclient.js'\r\n\r\nVue.config.productionTip = false\r\n\r\n// 全部引入\r\nVue.use(ElementUI)\r\n// 按需引入\r\n/*\r\nVue.use(Form)\r\nVue.use(FormItem)\r\nVue.use(Button)\r\n*/\r\n\r\nVue.component('icon', Icon)\r\n\r\nVue.use(HttpClient)\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  render: h => h(App)\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/group/group.js","const debugAccount = 'system'\r\nconst debugPassword = '111111'\r\n\r\nconst isProduction = process.env.NODE_ENV === 'production'\r\n\r\nexport const baseURL = isProduction ? '/manager/api' : 'http://127.0.0.1:9005/manager/api'\r\nexport const defaultAccount = isProduction ? '' : debugAccount\r\nexport const defaultPassword = isProduction ? '' : debugPassword\r\n\r\n// Development\r\n// export const baseURL = 'http://127.0.0.1:9005/manager/api'\r\n// export const defaultAccount = 'system'\r\n// export const defaultPassword = '111111'\r\n\r\n// Production\r\n// export const baseURL = '/manager/api'\r\n// export const defaultAccount = ''\r\n// export const defaultPassword = ''\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/config.js","<template>\n  <svg version=\"1.1\"\n    :class=\"klass\"\n    :role=\"label ? 'img' : 'presentation'\"\n    :aria-label=\"label\"\n    :x=\"x\"\n    :y=\"y\"\n    :width=\"width\"\n    :height=\"height\"\n    :viewBox=\"box\"\n    :style=\"style\">\n    <slot>\n      <template v-if=\"icon && icon.paths\">\n        <path v-for=\"(path, i) in icon.paths\" :key=\"`path-${i}`\" v-bind=\"path\"/>\n      </template>\n      <template v-if=\"icon && icon.polygons\">\n        <polygon v-for=\"(polygon, i) in icon.polygons\" :key=\"`polygon-${i}`\" v-bind=\"polygon\"/>\n      </template>\b\n      <template v-if=\"icon && icon.raw\"><g v-html=\"raw\"></g></template>\n    </slot>\n  </svg>\n</template>\n\n<style>\n.fa-icon {\n  display: inline-block;\n  fill: currentColor;\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-spin {\n  animation: fa-spin 1s 0s infinite linear;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.fa-pulse {\n  animation: fa-spin 1s infinite steps(8);\n}\n\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n</style>\n\n<script>\nlet icons = {}\n\nexport default {\n  name: 'icon',\n  props: {\n    name: {\n      type: String,\n      validator (val) {\n        if (val) {\n          if (!(val in icons)) {\n            console.warn(`Invalid prop: prop \"name\" is referring to an unregistered icon \"${val}\".` +\n              `\\nPlesase make sure you have imported this icon before using it.`)\n            return false\n          }\n          return true\n        }\n        console.warn(`Invalid prop: prop \"name\" is required.`)\n        return false\n      }\n    },\n    scale: [Number, String],\n    spin: Boolean,\n    inverse: Boolean,\n    pulse: Boolean,\n    flip: {\n      validator (val) {\n        return val === 'horizontal' || val === 'vertical'\n      }\n    },\n    label: String\n  },\n  data () {\n    return {\n      x: false,\n      y: false,\n      childrenWidth: 0,\n      childrenHeight: 0,\n      outerScale: 1\n    }\n  },\n  computed: {\n    normalizedScale () {\n      let scale = this.scale\n      scale = typeof scale === 'undefined' ? 1 : Number(scale)\n      if (isNaN(scale) || scale <= 0) {\n        console.warn(`Invalid prop: prop \"scale\" should be a number over 0.`, this)\n        return this.outerScale\n      }\n      return scale * this.outerScale\n    },\n    klass () {\n      return {\n        'fa-icon': true,\n        'fa-spin': this.spin,\n        'fa-flip-horizontal': this.flip === 'horizontal',\n        'fa-flip-vertical': this.flip === 'vertical',\n        'fa-inverse': this.inverse,\n        'fa-pulse': this.pulse\n      }\n    },\n    icon () {\n      if (this.name) {\n        return icons[this.name]\n      }\n      return null\n    },\n    box () {\n      if (this.icon) {\n        return `0 0 ${this.icon.width} ${this.icon.height}`\n      }\n      return `0 0 ${this.width} ${this.height}`\n    },\n    ratio () {\n      if (!this.icon) {\n        return 1\n      }\n      let { width, height } = this.icon\n      return Math.max(width, height) / 16\n    },\n    width () {\n      return this.childrenWidth || this.icon && this.icon.width / this.ratio * this.normalizedScale || 0\n    },\n    height () {\n      return this.childrenHeight || this.icon && this.icon.height / this.ratio * this.normalizedScale || 0\n    },\n    style () {\n      if (this.normalizedScale === 1) {\n        return false\n      }\n      return {\n        fontSize: this.normalizedScale + 'em'\n      }\n    },\n    raw () {\n      // generate unique id for each icon's SVG element with ID\n      if (!this.icon || !this.icon.raw) {\n        return null\n      }\n      let raw = this.icon.raw\n      let ids = {}\n      raw = raw.replace(/\\s(?:xml:)?id=[\"']?([^\"')\\s]+)/g, (match, id) => {\n        let uniqueId = getId()\n        ids[id] = uniqueId\n        return ` id=\"${uniqueId}\"`\n      })\n      raw = raw.replace(/#(?:([^'\")\\s]+)|xpointer\\(id\\((['\"]?)([^')]+)\\2\\)\\))/g, (match, rawId, _, pointerId) => {\n        let id = rawId || pointerId\n        if (!id || !ids[id]) {\n          return match\n        }\n\n        return `#${ids[id]}`\n      })\n\n      return raw\n    }\n  },\n  mounted () {\n    if (this.icon) {\n      return\n    }\n    this.$children.forEach(child => {\n      child.outerScale = this.normalizedScale\n    })\n    let width = 0\n    let height = 0\n    this.$children.forEach(child => {\n      width = Math.max(width, child.width)\n      height = Math.max(height, child.height)\n    })\n    this.childrenWidth = width\n    this.childrenHeight = height\n    this.$children.forEach(child => {\n      child.x = (width - child.width) / 2\n      child.y = (height - child.height) / 2\n    })\n  },\n  register (data) {\n    for (let name in data) {\n      let icon = data[name]\n\n      if (!icon.paths) {\n        icon.paths = []\n      }\n      if (icon.d) {\n        icon.paths.push({ d: icon.d })\n      }\n\n      if (!icon.polygons) {\n        icon.polygons = []\n      }\n      if (icon.points) {\n        icon.polygons.push({ points: icon.points })\n      }\n\n      icons[name] = icon\n    }\n  },\n  icons\n}\n\nlet cursor = 0xd4937\nfunction getId () {\n  return `fa-${(cursor++).toString(16)}`\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// node_modules/vue-awesome/components/Icon.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1deda299\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1deda299\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1deda299\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/group/App.vue\n// module id = lrRg\n// module chunks = 3"],"sourceRoot":""}