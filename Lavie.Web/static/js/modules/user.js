webpackJsonp([5],{"/rEA":function(e,t,i){"use strict";(function(e){function a(e,t,i){this.name="ApiError",this.message=e||"Default Message",this.errorType=t||f.Default,this.innerError=i,this.stack=(new Error).stack}var r=i("//Fk"),o=i.n(r),n=i("mvHQ"),l=i.n(n),s=i("OvRC"),m=i.n(s),u=i("mtWM"),c=i.n(u),d=i("mw3O"),p=i.n(d),h=i("bzuE"),f={Default:"default",Sysetem:"sysetem"};(a.prototype=m()(Error.prototype)).constructor=a;var g=c.a.create({baseURL:h.a,timeout:2e4,responseType:"json",withCredentials:!0});g.interceptors.request.use(function(e){return"post"===e.method||"put"===e.method||"patch"===e.method?(e.headers={"Content-Type":"application/json charset=utf-8"},e.data=l()(e.data)):"delete"!==e.method&&"get"!==e.method&&"head"!==e.method||(e.paramsSerializer=function(e){return p.a.stringify(e,{arrayFormat:"indices"})}),e},function(e){return e}),g.interceptors.response.use(function(t){if(-1===t.headers["content-type"].indexOf("json"))return t;var i=void 0;if("arraybuffer"===t.request.responseType&&"[object ArrayBuffer]"===t.data.toString()){var r=e.from(t.data).toString("utf8");console.log(r),i=JSON.parse(r)}else i=t.data;if(i&&i.url)top.location=i.url;else if(i&&200!==i.code)return console.log(i),o.a.reject(new a(i.message));return t},function(e){return o.a.reject(new a(e.message,f.Sysetem,e))}),t.a={install:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.httpClient=g,e.prototype.$httpClient=g}}}).call(t,i("EuP9").Buffer)},"D+l0":function(e,t,i){"use strict";var a=i("lY/r"),r=i("ssP9"),o=function(e){i("P5rr")},n=i("VU/8")(a.a,r.a,!1,o,null,null);t.a=n.exports},IlS5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("tvR6"),r=(i.n(a),i("qBF2")),o=i.n(r),n=i("7+uW"),l=i("uN2V"),s=(i.n(l),i("D+l0")),m=i("/rEA");n.default.config.productionTip=!1,n.default.use(o.a),n.default.use(m.a),new n.default({el:"#app",render:function(e){return e(s.a)}})},P5rr:function(e,t){},VsUZ:function(e,t,i){"use strict";var a=i("7+uW");t.a={login:function(e){return a.default.httpClient.post("/admin/login",e)},logout:function(){return a.default.httpClient.post("/admin/logout")},getProfile:function(){return a.default.httpClient.get("/admin/getProfile")},changeProfile:function(e){return a.default.httpClient.post("/admin/changeProfile",e)},changePassword:function(e){return a.default.httpClient.post("/admin/changePassword",e)},getMenus:function(){return a.default.httpClient.get("/admin/getMenus")},getServerInfo:function(){return a.default.httpClient.get("/admin/getServerinfo")},getSiteConfig:function(){return a.default.httpClient.get("/admin/getSiteconfig")},editSiteConfig:function(e){return a.default.httpClient.post("/admin/editSiteconfig",e)},getBulletin:function(){return a.default.httpClient.get("/admin/getBulletin")},editBulletin:function(e){return a.default.httpClient.post("/admin/editBulletin",e)},getPermissions:function(){return a.default.httpClient.get("/admin/getPermissions")},getModuleConfig:function(){return a.default.httpClient.get("/admin/getModuleConfig")},extractModulePermissions:function(){return a.default.httpClient.get("/admin/extractModulePermissions")},clearModulePermissions:function(){return a.default.httpClient.get("/admin/clearModulePermissions")},getRoles:function(){return a.default.httpClient.get("/admin/getRoles")},addRole:function(e){return a.default.httpClient.post("/admin/addRole",e)},editRole:function(e){return a.default.httpClient.post("/admin/editRole",e)},removeRole:function(e){return a.default.httpClient.post("/admin/removeRole",e)},moveRole:function(e){return a.default.httpClient.post("/admin/moveRole",e)},saveRoleName:function(e){return a.default.httpClient.post("/admin/saveRoleName",e)},getGroupTree:function(){return a.default.httpClient.get("/admin/getGroupTree")},addGroup:function(e){return a.default.httpClient.post("/admin/addGroup",e)},editGroup:function(e){return a.default.httpClient.post("/admin/editGroup",e)},removeGroup:function(e){return a.default.httpClient.post("/admin/removeGroup",e)},moveGroup:function(e){return a.default.httpClient.post("/admin/moveGroup",e)},getUsers:function(e){return a.default.httpClient.post("/admin/getUsers",e)},addUser:function(e){return a.default.httpClient.post("/admin/addUser",e)},editUser:function(e){return a.default.httpClient.post("/admin/editUser",e)},removeUser:function(e){return a.default.httpClient.post("/admin/removeUser",e)},getUserStatus:function(){return a.default.httpClient.get("/admin/getUserStatus")},getNotificationsForManager:function(e){return a.default.httpClient.post("/admin/getNotificationsForManager",e)},addNotification:function(e){return a.default.httpClient.post("/admin/addNotification",e)},editNotification:function(e){return a.default.httpClient.post("/admin/editNotification",e)},removeNotification:function(e){return a.default.httpClient.post("/admin/removeNotification",e)},getNotifications:function(e){return a.default.httpClient.post("/admin/getNotifications",e)},readNotifications:function(e){return a.default.httpClient.post("/admin/readNotifications",e)},deleteNotifications:function(e){return a.default.httpClient.post("/admin/deleteNotifications",e)},getNewestNotification:function(e){return a.default.httpClient.post("/admin/getNewestNotification",e)},getGroups:function(){return a.default.httpClient.get("/admin/getGroups")},getRoleBases:function(){return a.default.httpClient.get("/admin/getRoleBases")},getPermissionTree:function(){return a.default.httpClient.get("/admin/getPermissionTree")},directlyCall:function(e){return a.default.httpClient.get(e)},download:function(e,t){return a.default.httpClient.post(e,t,{responseType:"arraybuffer"})}}},bzuE:function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i.d(t,"b",function(){return r}),i.d(t,"c",function(){return o});var a="/manager/api",r="",o=""},"lY/r":function(e,t,i){"use strict";var a=i("BO1k"),r=i.n(a),o=i("VsUZ"),n=i("M4fF"),l=i.n(n);t.a={data:function(){var e=this;return{isLoading:!1,activeTabName:"first",page:{list:null,totalItemCount:null,totalPageCount:null},isSearchCriteriaFormExpand:!1,searchCriteriaForm:{keyword:null,groupIDs:null,creationDate:null,creationDateBegin:null,creationDateEnd:null,status:null,groupIDPath:[]},pagingInfoForm:{pageNumber:1,pageSize:20,isExcludeMetaData:!1,sortInfo:{sort:"UserID",sortDir:"ASC"}},removeActive:null,removeConfirmDialogVisible:!1,editActive:null,mainFormDialogVisible:!1,mainForm:{userID:null,status:null,username:null,displayName:null,realName:null,realNameIsValid:!1,email:null,emailIsValid:!1,mobile:null,mobileIsValid:!1,groupIDPath:[],groupID:null,roleID:null,roleIDs:[],permissionIDs:null,password:null,passwordConfirm:null,description:null,headURL:null,logoURL:null},mainFormRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{max:20,message:"最多支持20个字符",trigger:"blur"}],displayName:[{max:20,message:"最多支持20个字符",trigger:"blur"}],realName:[{max:100,message:"最多支持100个字符",trigger:"blur"}],mobile:[{pattern:/^1\d{10}$/,message:"请输入正确的手机号码",trigger:"blur"}],email:[{pattern:/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/,message:"请输入正确的邮箱",trigger:"blur"}],groupIDPath:[{required:!0,type:"array",message:"请选择分组",trigger:"change"}],password:[{validator:function(t,i,a){!e.editActive||i&&0!==i.length||a(),i?i.length<6?a(new Error("请输入至少6位密码")):i.length>20?a(new Error("密码请保持在20位以内")):a():a(new Error("请输入登录密码"))},trigger:"blur"}],passwordConfirm:[{validator:function(t,i,a){!e.editActive||e.mainForm.password&&0!==e.mainForm.password.length||a(),i?i!==e.mainForm.password?a(new Error("两次输入密码不一致!")):a():a(new Error("请输入确认密码"))},trigger:"blur"}]},editPermissionTreeData:null,editPermissionTreeDefaultProps:{children:"children",label:"name"},editGroupRoleListData:null,editRoleListData:null,editGroupTreeData:[],editGroupTreeDefaultProps:{children:"children",value:"id",label:"name"},editUserStatus:[{label:"未设",value:"NotSet"},{label:"默认",value:"Normal"},{label:"待审",value:"PendingApproval"},{label:"删除",value:"Removed"}]}},mounted:function(){this.getPage(),this.getGroupTree(),this.getRoleBases(),this.getPermissionTree()},computed:{emptyText:function(){return this.isLoading?"加载中...":"暂无数据"}},watch:{},methods:{getPage:function(){var e=this;this.isLoading=!0;var t=l.a.extend({},this.pagingInfoForm,this.searchCriteriaForm);o.a.getUsers(t).then(function(t){e.isLoading=!1,e.page=t.data.page},function(t){e.isLoading=!1,e.showErrorMessage(t.message)})},handlePaginationSizeChange:function(e){this.pagingInfoForm.pageSize=e,this.pagingInfoForm.pageNumber=1,this.getPage()},handlePaginationCurrentChange:function(e){this.pagingInfoForm.pageNumber=e,this.getPage()},getGroupTree:function(){var e=this;o.a.getGroupTree().then(function(t){e.editGroupTreeData=t.data.tree},function(t){e.showErrorMessage(t.message)})},getRoleBases:function(){var e=this;o.a.getRoleBases().then(function(t){e.editRoleListData=t.data.list},function(t){e.showErrorMessage(t.message)})},getPermissionTree:function(){var e=this;o.a.getPermissionTree().then(function(t){e.editPermissionTreeData=t.data.tree},function(t){e.showErrorMessage(t.message)})},handleSearchAll:function(){this.pagingInfoForm.pageNumber=1,this.searchCriteriaForm.keyword=null,this.searchCriteriaForm.groupIDs=null,this.searchCriteriaForm.creationDate=null,this.searchCriteriaForm.creationDateBegin=null,this.searchCriteriaForm.creationDateEnd=null,this.searchCriteriaForm.status=null,this.searchCriteriaForm.groupIDPath=[],this.getPage()},handleSearch:function(){this.pagingInfoForm.pageNumber=1,this.searchCriteriaForm.creationDate&&2===this.searchCriteriaForm.creationDate.length&&(this.searchCriteriaForm.creationDateBegin=this.searchCriteriaForm.creationDate[0],this.searchCriteriaForm.creationDateEnd=this.searchCriteriaForm.creationDate[1]),this.searchCriteriaForm.groupIDs=this.searchCriteriaForm.groupIDPath&&this.searchCriteriaForm.groupIDPath.length?[this.searchCriteriaForm.groupIDPath[this.searchCriteriaForm.groupIDPath.length-1]]:null,this.getPage()},handleAdd:function(){var e=this;this.validateBaseData()&&(this.activeTabName="first",this.editActive=null,this.mainFormDialogVisible=!0,this.mainForm.userID=null,this.mainForm.status="Normal",this.mainForm.username=null,this.mainForm.displayName=null,this.mainForm.realName=null,this.mainForm.realNameIsValid=null,this.mainForm.email=null,this.mainForm.emailIsValid=null,this.mainForm.mobile=null,this.mainForm.mobileIsValid=null,this.mainForm.groupIDPath=[],this.mainForm.groupID=null,this.mainForm.roleID=null,this.editGroupRoleListData=[],this.mainForm.roleIDs=[],this.mainForm.permissionIDs=null,this.mainForm.password=null,this.mainForm.passwordConfirm=null,this.mainForm.description=null,this.mainForm.headURL=null,this.mainForm.logoURL=null,this.$nextTick(function(){e.$refs.editPermissionTree.setCheckedKeys([],!0),e.clearValidate("mainForm")}))},handleEdit:function(e){var t=this;console.log("handleEdit",e),this.validateBaseData()&&e&&(this.activeTabName="first",this.editActive=e,this.mainFormDialogVisible=!0,this.mainForm.userID=e.UserID,this.mainForm.status=e.Status,this.mainForm.username=e.Username,this.mainForm.displayName=e.DisplayName,this.mainForm.realName=e.RealName,this.mainForm.realNameIsValid=e.RealNameIsValid,this.mainForm.email=e.Email,this.mainForm.emailIsValid=e.EmailIsValid,this.mainForm.mobile=e.Mobile,this.mainForm.mobileIsValid=e.MobileIsValid,this.getGroupIDPath(this.editGroupTreeData,e.Group.groupID),this.mainForm.groupID=e.Group.groupID,this.mainForm.roleID=e.Role?e.Role.roleID:null,this.getGroupLimitRoles(this.editGroupTreeData,e.Group.groupID),this.mainForm.roleIDs=e.Roles.map(function(e){return e.roleID}),this.mainForm.permissionIDs=e.Permissions.map(function(e){return e.permissionID}),this.mainForm.password=null,this.mainForm.passwordConfirm=null,this.mainForm.description=e.Description,this.mainForm.headURL=e.headURL,this.mainForm.logoURL=e.logoURL,this.$nextTick(function(){t.$refs.editPermissionTree.setCheckedKeys(t.mainForm.permissionIDs,!0),t.clearValidate("mainForm")}))},handleMainFormSure:function(e){console.log("handleMainFormSure",e),e?this.editActive?this.edit():this.add():this.mainFormDialogVisible=!1},handleRemove:function(e){this.removeActive=e,this.removeConfirmDialogVisible=!0},handleRemoveSure:function(e){this.removeConfirmDialogVisible=!1,e?this.remove():this.removeActive=null},handleGroupCascaderChange:function(e){this.mainForm.roleID=null,this.editGroupRoleListData=[],0!==e.length&&this.getGroupLimitRoles(this.editGroupTreeData,e[e.length-1])},add:function(){var e=this;this.$refs.mainForm.validate(function(t){if(!t)return!1;e.isLoading=!0,e.mainForm.groupID=e.mainForm.groupIDPath[e.mainForm.groupIDPath.length-1];var i=e.mainForm;o.a.addUser(i).then(function(t){e.isLoading=!1,e.mainFormDialogVisible=!1,e.getPage()},function(t){e.isLoading=!1,e.showErrorMessage(t.message)})})},edit:function(){var e=this;this.editActive?this.$refs.mainForm.validate(function(t){if(!t)return!1;e.isLoading=!0,e.mainForm.groupID=e.mainForm.groupIDPath[e.mainForm.groupIDPath.length-1];var i=e.mainForm;o.a.editUser(i).then(function(t){e.isLoading=!1,e.editActive=null,e.mainFormDialogVisible=!1,e.getPage()},function(t){e.isLoading=!1,e.showErrorMessage(t.message)})}):this.showErrorMessage("异常：无编辑目标")},remove:function(){var e=this;if(this.removeActive){var t={userID:this.removeActive.UserID};this.isLoading=!0,o.a.removeUser(t).then(function(t){e.isLoading=!1,e.removeActive=null,e.getPage()},function(t){e.isLoading=!1,e.showErrorMessage(t.message)})}},validateBaseData:function(){return this.editGroupTreeData&&0!==this.editGroupTreeData.length?this.editRoleListData?!!this.editPermissionTreeData||(this.showErrorMessage("基础数据缺失：权限列表"),!1):(this.showErrorMessage("基础数据缺失：角色列表"),!1):(this.showErrorMessage("基础数据缺失：用户组列表"),!1)},handlePermissionTreeCheckChange:function(e,t,i){this.mainForm.permissionIDs=this.$refs.editPermissionTree.getCheckedKeys()},getGroupIDPath:function(e,t){if(e){var i=!0,a=!1,o=void 0;try{for(var n,l=r()(e);!(i=(n=l.next()).done);i=!0){var s=n.value;if(s.id===t){this.mainForm.groupIDPath=s.parentIDPath?s.parentIDPath.concat():[],this.mainForm.groupIDPath.push(t);break}this.getGroupIDPath(s.children,t)}}catch(e){a=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}}},getGroupLimitRoles:function(e,t){if(this.editGroupRoleListData=[],e){var i=!0,a=!1,o=void 0;try{for(var n,l=r()(e);!(i=(n=l.next()).done);i=!0){var s=n.value;if(s.id===t){this.editGroupRoleListData=s.limitRoles;break}this.getGroupLimitRoles(s.children,t)}}catch(e){a=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}}},resetForm:function(e){this.$refs[e].resetFields()},clearValidate:function(e){this.$refs[e].clearValidate()},showErrorMessage:function(e){this.$message({message:e,type:"error"})},handleSortChange:function(e){this.pagingInfoForm.sortInfo.sort=e.prop,this.pagingInfoForm.sortInfo.sortDir="descending"===e.order?"DESC":"ASC",this.pagingInfoForm.pageNumber=1,this.getPage()},handleChangeHeadURLBrowser:function(){this.popupCKFinder("headURL")},handleChangeLogoURLBrowser:function(){this.popupCKFinder("logoURL")},popupCKFinder:function(e){var t=this;try{CKFinder.popup({chooseFiles:!0,width:800,height:600,onInit:function(i){i.on("files:choose",function(i){var a=i.data.files.first();t.changeProfileForm[e]=a.getUrl()}),i.on("file:choose:resizedImage",function(i){t.changeProfileForm[e]=i.data.resizedUrl})}})}catch(e){console.log(e.message)}}}}},ssP9:function(e,t,i){"use strict";var a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.isLoading,expression:"isLoading",modifiers:{fullscreen:!0,lock:!0}}]},[i("el-header",{staticClass:"header"},[i("el-breadcrumb",{staticClass:"breadcrumb",attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",[e._v("用户管理")]),e._v(" "),i("el-breadcrumb-item",[e._v("用户列表")])],1)],1),e._v(" "),i("el-main",{staticClass:"main"},[i("el-form",{ref:"searchCriteriaForm",staticClass:"searchCriteriaForm",attrs:{model:e.searchCriteriaForm,inline:"",size:"mini"}},[i("el-row",[i("el-form-item",[i("el-input",{staticClass:"filterText",attrs:{placeholder:"关键字(用户名/真实名称/昵称/邮箱/手机号)",clearable:""},model:{value:e.searchCriteriaForm.keyword,callback:function(t){e.$set(e.searchCriteriaForm,"keyword",t)},expression:"searchCriteriaForm.keyword"}})],1),e._v(" "),i("el-form-item",[i("el-cascader",{attrs:{options:e.editGroupTreeData,props:e.editGroupTreeDefaultProps,clearable:"","change-on-select":"",filterable:"",placeholder:"用户组"},model:{value:e.searchCriteriaForm.groupIDPath,callback:function(t){e.$set(e.searchCriteriaForm,"groupIDPath",t)},expression:"searchCriteriaForm.groupIDPath"}})],1),e._v(" "),i("el-form-item",[i("el-select",{attrs:{clearable:"",placeholder:"状态"},model:{value:e.searchCriteriaForm.status,callback:function(t){e.$set(e.searchCriteriaForm,"status",t)},expression:"searchCriteriaForm.status"}},e._l(e.editUserStatus,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{plain:"",icon:e.isSearchCriteriaFormExpand?"el-icon-caret-top":"el-icon-caret-bottom"},on:{click:function(t){e.isSearchCriteriaFormExpand=!e.isSearchCriteriaFormExpand}}}),e._v(" "),i("el-button-group",[i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.handleSearch()}}},[e._v("搜索")]),e._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.handleSearchAll()}}},[e._v("全部")])],1),e._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.handleAdd()}}},[e._v("添加")])],1)],1),e._v(" "),i("el-row",{directives:[{name:"show",rawName:"v-show",value:e.isSearchCriteriaFormExpand,expression:"isSearchCriteriaFormExpand"}]},[i("el-form-item",[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"至","start-placeholder":"创建日期开始","end-placeholder":"创建日期结束"},model:{value:e.searchCriteriaForm.creationDate,callback:function(t){e.$set(e.searchCriteriaForm,"creationDate",t)},expression:"searchCriteriaForm.creationDate"}})],1)],1)],1),e._v(" "),i("el-row",[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.page.list,size:"small","empty-text":e.emptyText},on:{"sort-change":e.handleSortChange}},[i("el-table-column",{attrs:{prop:"UserID",label:"#",width:"60",sortable:"custom"}}),e._v(" "),i("el-table-column",{attrs:{prop:"Username",label:"用户名",width:"100",sortable:"custom"}}),e._v(" "),i("el-table-column",{attrs:{prop:"Group.name",label:"用户组",width:"160"}}),e._v(" "),i("el-table-column",{attrs:{label:"角色",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.Role?t.row.Role.name:""))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"DisplayName",label:"昵称",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{label:"真实名称",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("i",{directives:[{name:"show",rawName:"v-show",value:t.row.RealName&&!t.row.RealNameIsValid,expression:"scope.row.RealName && !scope.row.RealNameIsValid"}],staticClass:"el-icon-question"}),e._v(" "),i("span",[e._v(e._s(t.row.RealName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"手机号码",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("i",{directives:[{name:"show",rawName:"v-show",value:t.row.Mobile&&!t.row.MobileIsValid,expression:"scope.row.Mobile && !scope.row.MobileIsValid"}],staticClass:"el-icon-question"}),e._v(" "),i("span",[e._v(e._s(t.row.Mobile))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"Email"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("i",{directives:[{name:"show",rawName:"v-show",value:t.row.Email&&!t.row.EmailIsValid,expression:"scope.row.Email && !scope.row.EmailIsValid"}],staticClass:"el-icon-question"}),e._v(" "),i("span",[e._v(e._s(t.row.Email))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"StatusText",label:"状态",width:"60"}}),e._v(" "),i("el-table-column",{attrs:{prop:"CreationDate",label:"创建时间",width:"160"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",width:"42"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-edit"},on:{click:function(i){e.handleEdit(t.row)}}})]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",width:"42"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(i){e.handleRemove(t.row)}}})]}}])})],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.mainFormDialogVisible,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.mainFormDialogVisible=t}},nativeOn:{submit:function(e){e.preventDefault()}}},[i("span",{attrs:{slot:"title"},slot:"title"},[e._v("\n        "+e._s(e.editActive?"编辑":"添加")+"\n      ")]),e._v(" "),i("el-form",{ref:"mainForm",attrs:{model:e.mainForm,rules:e.mainFormRules,"label-position":"right","label-width":"160px",size:"mini"}},[i("el-tabs",{attrs:{type:"card"},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[i("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[i("el-form-item",{attrs:{label:"分组",prop:"groupIDPath"}},[i("el-cascader",{attrs:{options:e.editGroupTreeData,props:e.editGroupTreeDefaultProps,clearable:"",filterable:"",placeholder:"试试搜索","change-on-select":""},on:{change:e.handleGroupCascaderChange},model:{value:e.mainForm.groupIDPath,callback:function(t){e.$set(e.mainForm,"groupIDPath",t)},expression:"mainForm.groupIDPath"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"角色",prop:"roleID"}},[i("el-select",{attrs:{clearable:"",placeholder:"选择"},model:{value:e.mainForm.roleID,callback:function(t){e.$set(e.mainForm,"roleID",t)},expression:"mainForm.roleID"}},e._l(e.editGroupRoleListData,function(e){return i("el-option",{key:e.roleID,attrs:{label:e.name,value:e.roleID}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"用户名",prop:"username"}},[i("el-input",{ref:"username",attrs:{"auto-complete":"off",placeholder:"请输入用户名"},model:{value:e.mainForm.username,callback:function(t){e.$set(e.mainForm,"username","string"==typeof t?t.trim():t)},expression:"mainForm.username"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"状态",required:!0}},[i("el-radio-group",{model:{value:e.mainForm.status,callback:function(t){e.$set(e.mainForm,"status",t)},expression:"mainForm.status"}},e._l(e.editUserStatus,function(t){return i("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),i("el-form-item",{attrs:{label:"登录密码",prop:"password",required:!e.editActive}},[i("el-input",{attrs:{type:"password",placeholder:e.editActive?"如果不修改密码，请保持为空":"请输入登录密码"},model:{value:e.mainForm.password,callback:function(t){e.$set(e.mainForm,"password",t)},expression:"mainForm.password"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"确认密码",prop:"passwordConfirm",required:!e.editActive}},[i("el-input",{attrs:{type:"password",placeholder:e.editActive?"如果不修改密码，请保持为空":"请输入确认密码"},model:{value:e.mainForm.passwordConfirm,callback:function(t){e.$set(e.mainForm,"passwordConfirm",t)},expression:"mainForm.passwordConfirm"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"昵称"}},[i("el-input",{attrs:{type:"text"},model:{value:e.mainForm.displayName,callback:function(t){e.$set(e.mainForm,"displayName",t)},expression:"mainForm.displayName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"真实名称"}},[i("el-input",{attrs:{type:"text"},model:{value:e.mainForm.realName,callback:function(t){e.$set(e.mainForm,"realName",t)},expression:"mainForm.realName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"真实名称是否验证"}},[i("el-switch",{model:{value:e.mainForm.realNameIsValid,callback:function(t){e.$set(e.mainForm,"realNameIsValid",t)},expression:"mainForm.realNameIsValid"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[i("el-input",{attrs:{type:"text"},model:{value:e.mainForm.email,callback:function(t){e.$set(e.mainForm,"email",t)},expression:"mainForm.email"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"邮箱是否验证"}},[i("el-switch",{model:{value:e.mainForm.emailIsValid,callback:function(t){e.$set(e.mainForm,"emailIsValid",t)},expression:"mainForm.emailIsValid"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"手机号码",prop:"mobile"}},[i("el-input",{attrs:{type:"text"},model:{value:e.mainForm.mobile,callback:function(t){e.$set(e.mainForm,"mobile",t)},expression:"mainForm.mobile"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"手机号码是否验证"}},[i("el-switch",{model:{value:e.mainForm.mobileIsValid,callback:function(t){e.$set(e.mainForm,"mobileIsValid",t)},expression:"mainForm.mobileIsValid"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"描述"}},[i("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.mainForm.description,callback:function(t){e.$set(e.mainForm,"description","string"==typeof t?t.trim():t)},expression:"mainForm.description"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"头像",prop:"headURL"}},[i("el-input",{ref:"headURL",attrs:{"auto-complete":"off",placeholder:"请输入头像 URL"},model:{value:e.mainForm.headURL,callback:function(t){e.$set(e.mainForm,"headURL","string"==typeof t?t.trim():t)},expression:"mainForm.headURL"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleChangeHeadURLBrowser},slot:"append"})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"Logo",prop:"logoURL"}},[i("el-input",{ref:"logoURL",attrs:{"auto-complete":"off",placeholder:"请输入Logo URL"},model:{value:e.mainForm.logoURL,callback:function(t){e.$set(e.mainForm,"logoURL","string"==typeof t?t.trim():t)},expression:"mainForm.logoURL"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleChangeLogoURLBrowser},slot:"append"})],1)],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:"附加角色",name:"second"}},[i("el-form-item",{attrs:{label:"附加角色"}},[i("el-checkbox-group",{model:{value:e.mainForm.roleIDs,callback:function(t){e.$set(e.mainForm,"roleIDs",t)},expression:"mainForm.roleIDs"}},e._l(e.editRoleListData,function(t){return i("el-checkbox",{key:t.roleID,attrs:{label:t.roleID}},[e._v(e._s(t.name))])}))],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:"附加权限",name:"third"}},[i("el-form-item",{attrs:{label:"附加权限"}},[i("el-tree",{ref:"editPermissionTree",attrs:{data:e.editPermissionTreeData,props:e.editPermissionTreeDefaultProps,"node-key":"id","empty-text":"","show-checkbox":"","default-expand-all":"","check-strictly":""},on:{"check-change":e.handlePermissionTreeCheckChange}})],1)],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.handleMainFormSure(!1)}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleMainFormSure(!0)}}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"提示",visible:e.removeConfirmDialogVisible,width:"320px",center:""},on:{"update:visible":function(t){e.removeConfirmDialogVisible=t}}},[i("span",[e._v("删除该用户后，相关的数据也将被删除。"),i("br"),e._v("确定要删除吗？")]),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.handleRemoveSure(!1)}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleRemoveSure(!0)}}},[e._v("确 定")])],1)])],1),e._v(" "),i("el-footer",{staticClass:"footer"},[e.page.totalItemCount?i("el-pagination",{attrs:{"current-page":e.pagingInfoForm.pageNumber,"page-sizes":[20,50,100,200,400],"page-size":e.pagingInfoForm.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.totalItemCount},on:{"size-change":e.handlePaginationSizeChange,"current-change":e.handlePaginationCurrentChange}}):e._e()],1)],1)},staticRenderFns:[]};t.a=a},tvR6:function(e,t){},uN2V:function(e,t){}},["IlS5"]);
//# sourceMappingURL=user.js.map